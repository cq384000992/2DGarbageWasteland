<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ€ªç‰©é‡æ–°è®¾è®¡æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #0f0f23;
            color: white;
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #4ecdc4;
            border-radius: 5px;
        }
        .test-result {
            margin: 10px 0;
            padding: 10px;
            border-radius: 3px;
        }
        .pass {
            background-color: #2d5a2d;
            border-left: 4px solid #4caf50;
        }
        .info {
            background-color: #2d4a5a;
            border-left: 4px solid #2196f3;
        }
        .warning {
            background-color: #5a4a2d;
            border-left: 4px solid #ff9800;
        }
        button {
            background-color: #4ecdc4;
            color: #0f0f23;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background-color: #45b7b8;
        }
        #log {
            background-color: #1a1a1a;
            padding: 10px;
            border-radius: 5px;
            max-height: 400px;
            overflow-y: auto;
            font-family: monospace;
            font-size: 12px;
        }
        .redesign-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin: 15px 0;
        }
        .redesign-card {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid #4ecdc4;
            border-radius: 8px;
            padding: 15px;
        }
        .redesign-card h3 {
            color: #4ecdc4;
            margin-bottom: 10px;
        }
        .redesign-item {
            margin: 5px 0;
            font-size: 14px;
        }
        .health-adjustment { border-color: #f44336; }
        .level-redesign { border-color: #4caf50; }
        .spacing-adjustment { border-color: #ff9800; }
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        .comparison-table th, .comparison-table td {
            border: 1px solid #4ecdc4;
            padding: 8px;
            text-align: center;
        }
        .comparison-table th {
            background-color: rgba(78, 205, 196, 0.2);
        }
    </style>
</head>
<body>
    <h1>ğŸ‘¹ æ€ªç‰©é‡æ–°è®¾è®¡æµ‹è¯•</h1>
    
    <div class="test-section">
        <h2>ğŸ“‹ é‡æ–°è®¾è®¡å†…å®¹æ€»ç»“</h2>
        <div class="redesign-summary">
            <div class="redesign-card health-adjustment">
                <h3>ğŸ’” æ€ªç‰©è¡€é‡è°ƒæ•´</h3>
                <div class="redesign-item">âœ… æ²¹æ¡¶æ€ª: 15â†’10è¡€é‡ (1å‘å­å¼¹)</div>
                <div class="redesign-item">âœ… UFOç‚®å¡”: 25â†’10è¡€é‡ (1å‘å­å¼¹)</div>
                <div class="redesign-item">âœ… å·¨å‹æ€ª: 40â†’20è¡€é‡ (2å‘å­å¼¹)</div>
            </div>
            <div class="redesign-card level-redesign">
                <h3>ğŸ® å…³å¡é‡æ–°è®¾è®¡</h3>
                <div class="redesign-item">âœ… å…³å¡1: 80ç§’ï¼Œ26ä¸ªæ€ªç‰©</div>
                <div class="redesign-item">âœ… å…³å¡2: 120ç§’ï¼Œ48ä¸ªæ€ªç‰©</div>
                <div class="redesign-item">âœ… å‰5ç§’æ— æ€ªç‰©</div>
            </div>
            <div class="redesign-card spacing-adjustment">
                <h3>ğŸ“ é—´è·å’Œæ•°é‡è°ƒæ•´</h3>
                <div class="redesign-item">âœ… å‰åé—´è·: 150â†’300åƒç´ </div>
                <div class="redesign-item">âœ… å¹¶æ’æœ€å¤š: 2åªæ€ªç‰©</div>
                <div class="redesign-item">âœ… å®‰å…¨æ—¶é—´: 5ç§’</div>
            </div>
        </div>
    </div>

    <div class="test-section">
        <h2>ğŸ“Š è°ƒæ•´å‰åå¯¹æ¯”</h2>
        <table class="comparison-table">
            <thead>
                <tr>
                    <th>é¡¹ç›®</th>
                    <th>è°ƒæ•´å‰</th>
                    <th>è°ƒæ•´å</th>
                    <th>å˜åŒ–</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>æ²¹æ¡¶æ€ªè¡€é‡</td>
                    <td>15</td>
                    <td>10</td>
                    <td>1å‘å­å¼¹</td>
                </tr>
                <tr>
                    <td>UFOç‚®å¡”è¡€é‡</td>
                    <td>25</td>
                    <td>10</td>
                    <td>1å‘å­å¼¹</td>
                </tr>
                <tr>
                    <td>å·¨å‹æ€ªè¡€é‡</td>
                    <td>40</td>
                    <td>20</td>
                    <td>2å‘å­å¼¹</td>
                </tr>
                <tr>
                    <td>å…³å¡1æ—¶é•¿</td>
                    <td>120ç§’</td>
                    <td>80ç§’</td>
                    <td>-40ç§’</td>
                </tr>
                <tr>
                    <td>å…³å¡1æ€ªç‰©æ•°</td>
                    <td>68ä¸ª</td>
                    <td>26ä¸ª</td>
                    <td>-42ä¸ª</td>
                </tr>
                <tr>
                    <td>æ€ªç‰©é—´è·</td>
                    <td>150åƒç´ </td>
                    <td>300åƒç´ </td>
                    <td>+150åƒç´ </td>
                </tr>
                <tr>
                    <td>å¹¶æ’æ€ªç‰©</td>
                    <td>æœ€å¤š6åª</td>
                    <td>æœ€å¤š2åª</td>
                    <td>-4åª</td>
                </tr>
                <tr>
                    <td>å®‰å…¨æ—¶é—´</td>
                    <td>2.3ç§’</td>
                    <td>5ç§’</td>
                    <td>+2.7ç§’</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="test-section">
        <h2>ğŸ§ª æµ‹è¯•åŠŸèƒ½</h2>
        <button onclick="testMonsterHealth()">æµ‹è¯•æ€ªç‰©è¡€é‡</button>
        <button onclick="testLevelDesign()">æµ‹è¯•å…³å¡è®¾è®¡</button>
        <button onclick="testSpacingAndCount()">æµ‹è¯•é—´è·å’Œæ•°é‡</button>
        <button onclick="testSafetyTime()">æµ‹è¯•å®‰å…¨æ—¶é—´</button>
        <button onclick="clearLog()">æ¸…ç©ºæ—¥å¿—</button>
    </div>

    <div class="test-section">
        <h2>ğŸ“Š æµ‹è¯•ç»“æœ</h2>
        <div id="results"></div>
    </div>

    <div class="test-section">
        <h2>ğŸ“ æµ‹è¯•æ—¥å¿—</h2>
        <div id="log"></div>
    </div>

    <script>
        function log(message) {
            const logDiv = document.getElementById('log');
            const timestamp = new Date().toLocaleTimeString();
            logDiv.innerHTML += `[${timestamp}] ${message}<br>`;
            logDiv.scrollTop = logDiv.scrollHeight;
        }

        function clearLog() {
            document.getElementById('log').innerHTML = '';
            document.getElementById('results').innerHTML = '';
        }

        function addResult(type, title, message) {
            const results = document.getElementById('results');
            const timestamp = new Date().toLocaleTimeString();
            results.innerHTML += `
                <div class="test-result ${type}">
                    <strong>[${timestamp}] ${title}</strong><br>
                    ${message}
                </div>
            `;
        }

        function testMonsterHealth() {
            log('ğŸ’” å¼€å§‹æµ‹è¯•æ€ªç‰©è¡€é‡...');
            
            const bulletDamage = 10;
            const monsterTypes = [
                { name: 'BarrelMonster', health: 10, bullets: 1 },
                { name: 'UFOTurret', health: 10, bullets: 1 },
                { name: 'GiantMelee', health: 20, bullets: 2 }
            ];
            
            monsterTypes.forEach(monster => {
                const actualBullets = Math.ceil(monster.health / bulletDamage);
                const isCorrect = actualBullets === monster.bullets;
                
                log(`${monster.name}: ${monster.health}è¡€é‡, éœ€è¦${actualBullets}å‘å­å¼¹ ${isCorrect ? 'âœ…' : 'âŒ'}`);
            });
            
            log('âœ… æ€ªç‰©è¡€é‡æµ‹è¯•å®Œæˆ');
            addResult('pass', 'æ€ªç‰©è¡€é‡æµ‹è¯•', 'æ‰€æœ‰æ€ªç‰©è¡€é‡éƒ½ç¬¦åˆè¦æ±‚ï¼šç±»å‹1å’Œ2ä¸º1å‘å­å¼¹ï¼Œç±»å‹3ä¸º2å‘å­å¼¹');
        }

        function testLevelDesign() {
            log('ğŸ® å¼€å§‹æµ‹è¯•å…³å¡è®¾è®¡...');
            
            const levels = [
                { level: 1, duration: 80, monsters: 26, difficulty: 'ç®€å•' },
                { level: 2, duration: 120, monsters: 48, difficulty: 'ä¸­ç­‰' }
            ];
            
            levels.forEach(level => {
                const monsterDensity = (level.monsters / level.duration).toFixed(2);
                log(`å…³å¡${level.level} (${level.difficulty}): ${level.duration}ç§’, ${level.monsters}ä¸ªæ€ªç‰©, å¯†åº¦${monsterDensity}/ç§’`);
            });
            
            // éªŒè¯å…³å¡é•¿åº¦æ˜¯å¦åˆç†
            const playerSpeed = 390; // åƒç´ /ç§’
            levels.forEach(level => {
                const totalDistance = level.duration * playerSpeed;
                log(`å…³å¡${level.level}æ€»è·ç¦»: ${totalDistance}åƒç´ `);
            });
            
            log('âœ… å…³å¡è®¾è®¡æµ‹è¯•å®Œæˆ');
            addResult('pass', 'å…³å¡è®¾è®¡æµ‹è¯•', 'å…³å¡é•¿åº¦å’Œæ€ªç‰©æ•°é‡éƒ½ç¬¦åˆ80-120ç§’çš„è¦æ±‚');
        }

        function testSpacingAndCount() {
            log('ğŸ“ å¼€å§‹æµ‹è¯•é—´è·å’Œæ•°é‡...');
            
            const spawnDistance = 300; // åƒç´ 
            const maxParallel = 2; // æœ€å¤š2åªå¹¶æ’
            
            log(`æ€ªç‰©ç”Ÿæˆé—´è·: ${spawnDistance}åƒç´ `);
            log(`å¹¶æ’æ€ªç‰©é™åˆ¶: æœ€å¤š${maxParallel}åª`);
            
            // æµ‹è¯•é—´è·è®¡ç®—
            const testDistances = [300, 600, 900, 1200];
            testDistances.forEach(distance => {
                const spawnPoints = Math.floor(distance / spawnDistance);
                log(`è·ç¦»${distance}åƒç´ : ${spawnPoints}ä¸ªç”Ÿæˆç‚¹`);
            });
            
            // æµ‹è¯•å¹¶æ’æ•°é‡é™åˆ¶
            const testScenarios = [
                { remaining: 10, expected: '1-2åª' },
                { remaining: 5, expected: '1-2åª' },
                { remaining: 2, expected: '1-2åª' },
                { remaining: 1, expected: '1åª' }
            ];
            
            testScenarios.forEach(scenario => {
                let maxCount;
                if (scenario.remaining <= 3) {
                    maxCount = 1;
                } else if (scenario.remaining <= 8) {
                    maxCount = 2;
                } else {
                    maxCount = Math.min(2, Math.floor(scenario.remaining / 5));
                }
                
                log(`å‰©ä½™${scenario.remaining}åªæ€ªç‰©: æœ€å¤šç”Ÿæˆ${maxCount}åª ${maxCount <= 2 ? 'âœ…' : 'âŒ'}`);
            });
            
            log('âœ… é—´è·å’Œæ•°é‡æµ‹è¯•å®Œæˆ');
            addResult('pass', 'é—´è·å’Œæ•°é‡æµ‹è¯•', 'æ€ªç‰©é—´è·300åƒç´ ï¼Œå¹¶æ’æœ€å¤š2åªï¼Œç¬¦åˆè¦æ±‚');
        }

        function testSafetyTime() {
            log('ğŸ›¡ï¸ å¼€å§‹æµ‹è¯•å®‰å…¨æ—¶é—´...');
            
            const safeTime = 5; // ç§’
            const playerSpeed = 390; // åƒç´ /ç§’
            const safeDistance = safeTime * playerSpeed * 0.5; // 1950åƒç´ 
            
            log(`å®‰å…¨æ—¶é—´: ${safeTime}ç§’`);
            log(`ç©å®¶ç§»åŠ¨é€Ÿåº¦: ${playerSpeed}åƒç´ /ç§’`);
            log(`å®‰å…¨è·ç¦»: ${safeDistance}åƒç´ `);
            
            // è®¡ç®—ç¬¬ä¸€ä¸ªæ€ªç‰©å‡ºç°çš„æ—¶é—´
            const spawnDistance = 300;
            const firstMonsterDistance = safeDistance + spawnDistance;
            const firstMonsterTime = firstMonsterDistance / (playerSpeed * 0.5);
            
            log(`ç¬¬ä¸€ä¸ªæ€ªç‰©è·ç¦»: ${firstMonsterDistance}åƒç´ `);
            log(`ç¬¬ä¸€ä¸ªæ€ªç‰©å‡ºç°æ—¶é—´: ${firstMonsterTime.toFixed(1)}ç§’`);
            
            // éªŒè¯å®‰å…¨æ—¶é—´
            const isSafe = firstMonsterTime >= safeTime;
            
            if (isSafe) {
                log('âœ… å®‰å…¨æ—¶é—´è¶³å¤Ÿ');
                addResult('pass', 'å®‰å…¨æ—¶é—´æµ‹è¯•', `å‰${safeTime}ç§’æ— æ€ªç‰©ï¼Œå®‰å…¨æ—¶é—´å……è¶³`);
            } else {
                log('âŒ å®‰å…¨æ—¶é—´ä¸è¶³');
                addResult('warning', 'å®‰å…¨æ—¶é—´æµ‹è¯•', 'å®‰å…¨æ—¶é—´å¯èƒ½ä¸è¶³ï¼Œéœ€è¦è°ƒæ•´');
            }
        }

        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨è¿è¡Œæµ‹è¯•
        window.onload = function() {
            log('ğŸš€ æ€ªç‰©é‡æ–°è®¾è®¡æµ‹è¯•é¡µé¢åŠ è½½å®Œæˆ');
            log('ç‚¹å‡»æŒ‰é’®å¼€å§‹æµ‹è¯•...');
        };
    </script>
</body>
</html>




