<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å­å¼¹è½¨è¿¹æ¼”ç®—</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #0f0f23;
            color: white;
        }
        .simulation {
            background-color: #1a1a1a;
            padding: 15px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 12px;
            white-space: pre-wrap;
            max-height: 600px;
            overflow-y: auto;
        }
        .highlight {
            background-color: #ff6b6b;
            color: white;
            padding: 2px 4px;
            border-radius: 3px;
        }
        .success {
            color: #4ecdc4;
        }
        .error {
            color: #ff6b6b;
        }
        .warning {
            color: #ffd93d;
        }
    </style>
</head>
<body>
    <h1>ğŸ” å­å¼¹è½¨è¿¹æ¼”ç®—åˆ†æ</h1>
    
    <div class="simulation" id="simulation"></div>
    
    <script>
        // æ¸¸æˆå‚æ•°
        const CONFIG = {
            PLAYER_START_Y: 1280,
            PLAYER_MOVE_SPEED: 390, // 780 * 0.5 (autoMoveæ–¹æ³•)
            SHOOT_INTERVAL: 1667, // æ¯«ç§’
            BULLET_SPEED: 2400,
            BULLET_HEIGHT: 50,
            BOUNDARY_Y: -4800 // è¾¹ç•Œæ£€æŸ¥
        };

        function simulateBulletTrajectory() {
            let log = '';
            log += '=== å­å¼¹è½¨è¿¹æ¼”ç®—åˆ†æ ===\n\n';
            
            log += 'æ¸¸æˆå‚æ•°:\n';
            log += `- ç©å®¶åˆå§‹Y: ${CONFIG.PLAYER_START_Y}åƒç´ \n`;
            log += `- ç©å®¶ç§»åŠ¨é€Ÿåº¦: ${CONFIG.PLAYER_MOVE_SPEED}åƒç´ /ç§’ (å‘ä¸Š)\n`;
            log += `- å­å¼¹å‘å°„é—´éš”: ${CONFIG.SHOOT_INTERVAL}æ¯«ç§’ = ${CONFIG.SHOOT_INTERVAL/1000}ç§’\n`;
            log += `- å­å¼¹é€Ÿåº¦: ${CONFIG.BULLET_SPEED}åƒç´ /ç§’ (å‘ä¸Š)\n`;
            log += `- å­å¼¹é«˜åº¦: ${CONFIG.BULLET_HEIGHT}åƒç´ \n`;
            log += `- è¾¹ç•Œæ£€æŸ¥: y < ${CONFIG.BOUNDARY_Y}\n\n`;
            
            log += '=== å‰20å‘å­å¼¹è½¨è¿¹æ¼”ç®— ===\n\n';
            
            let playerY = CONFIG.PLAYER_START_Y;
            let currentTime = 0;
            
            for (let bulletNum = 1; bulletNum <= 20; bulletNum++) {
                // è®¡ç®—ç©å®¶å½“å‰ä½ç½®
                const playerCurrentY = CONFIG.PLAYER_START_Y - (currentTime * CONFIG.PLAYER_MOVE_SPEED);
                
                // è®¡ç®—å­å¼¹åˆ›å»ºä½ç½®
                const bulletInitialY = playerCurrentY - CONFIG.BULLET_HEIGHT;
                
                // è®¡ç®—å­å¼¹é£è¡Œè·ç¦»
                const flightDistance = bulletInitialY - CONFIG.BOUNDARY_Y;
                
                // è®¡ç®—å­å¼¹é£è¡Œæ—¶é—´
                const flightTime = flightDistance / CONFIG.BULLET_SPEED;
                
                // è®¡ç®—å­å¼¹é”€æ¯æ—¶çš„Yåæ ‡
                const bulletDestroyY = CONFIG.BOUNDARY_Y;
                
                // è®¡ç®—å­å¼¹é”€æ¯æ—¶çš„ç©å®¶Yåæ ‡
                const playerYAtDestroy = CONFIG.PLAYER_START_Y - ((currentTime + flightTime) * CONFIG.PLAYER_MOVE_SPEED);
                
                log += `ç¬¬${bulletNum}å‘å­å¼¹:\n`;
                log += `  å‘å°„æ—¶é—´: ${currentTime.toFixed(2)}ç§’\n`;
                log += `  ç©å®¶Yä½ç½®: ${playerCurrentY.toFixed(1)}åƒç´ \n`;
                log += `  å­å¼¹åˆå§‹Y: ${bulletInitialY.toFixed(1)}åƒç´ \n`;
                log += `  é£è¡Œè·ç¦»: ${flightDistance.toFixed(1)}åƒç´ \n`;
                log += `  é£è¡Œæ—¶é—´: ${flightTime.toFixed(2)}ç§’\n`;
                log += `  å­å¼¹é”€æ¯Y: ${bulletDestroyY}åƒç´ \n`;
                log += `  é”€æ¯æ—¶ç©å®¶Y: ${playerYAtDestroy.toFixed(1)}åƒç´ \n`;
                
                // æ£€æŸ¥æ˜¯å¦åœ¨å±å¹•å†…å¯è§
                const isVisible = bulletInitialY > 0 && bulletInitialY < 2560;
                if (!isVisible) {
                    log += `  <span class="error">âŒ å­å¼¹åˆ›å»ºæ—¶å°±åœ¨å±å¹•å¤–!</span>\n`;
                } else if (flightTime < 0.1) {
                    log += `  <span class="error">âŒ å­å¼¹é£è¡Œæ—¶é—´è¿‡çŸ­!</span>\n`;
                } else {
                    log += `  <span class="success">âœ… æ­£å¸¸</span>\n`;
                }
                
                log += '\n';
                
                // æ›´æ–°åˆ°ä¸‹ä¸€å‘å­å¼¹çš„æ—¶é—´
                currentTime += CONFIG.SHOOT_INTERVAL / 1000;
            }
            
            log += '=== åˆ†æç»“æœ ===\n\n';
            
            // è®¡ç®—ç¬¬10å‘å’Œç¬¬11å‘å­å¼¹çš„è¯¦ç»†æƒ…å†µ
            const bullet10Time = 9 * CONFIG.SHOOT_INTERVAL / 1000;
            const bullet11Time = 10 * CONFIG.SHOOT_INTERVAL / 1000;
            
            const playerY10 = CONFIG.PLAYER_START_Y - (bullet10Time * CONFIG.PLAYER_MOVE_SPEED);
            const playerY11 = CONFIG.PLAYER_START_Y - (bullet11Time * CONFIG.PLAYER_MOVE_SPEED);
            
            const bullet10InitialY = playerY10 - CONFIG.BULLET_HEIGHT;
            const bullet11InitialY = playerY11 - CONFIG.BULLET_HEIGHT;
            
            log += `ç¬¬10å‘å­å¼¹ (${bullet10Time.toFixed(2)}ç§’):\n`;
            log += `  ç©å®¶Y: ${playerY10.toFixed(1)}åƒç´ \n`;
            log += `  å­å¼¹åˆå§‹Y: ${bullet10InitialY.toFixed(1)}åƒç´ \n`;
            log += `  æ˜¯å¦åœ¨å±å¹•å†…: ${bullet10InitialY > 0 && bullet10InitialY < 2560 ? 'æ˜¯' : 'å¦'}\n\n`;
            
            log += `ç¬¬11å‘å­å¼¹ (${bullet11Time.toFixed(2)}ç§’):\n`;
            log += `  ç©å®¶Y: ${playerY11.toFixed(1)}åƒç´ \n`;
            log += `  å­å¼¹åˆå§‹Y: ${bullet11InitialY.toFixed(1)}åƒç´ \n`;
            log += `  æ˜¯å¦åœ¨å±å¹•å†…: ${bullet11InitialY > 0 && bullet11InitialY < 2560 ? 'æ˜¯' : 'å¦'}\n\n`;
            
            // è®¡ç®—å­å¼¹å¼€å§‹ä¸å¯è§çš„æ—¶é—´ç‚¹
            const invisibleTime = (CONFIG.PLAYER_START_Y - CONFIG.BULLET_HEIGHT) / CONFIG.PLAYER_MOVE_SPEED;
            const invisibleBulletNum = Math.floor(invisibleTime / (CONFIG.SHOOT_INTERVAL / 1000)) + 1;
            
            log += `=== å…³é”®å‘ç° ===\n`;
            log += `å­å¼¹å¼€å§‹ä¸å¯è§çš„æ—¶é—´: ${invisibleTime.toFixed(2)}ç§’\n`;
            log += `å­å¼¹å¼€å§‹ä¸å¯è§çš„å‘æ•°: ç¬¬${invisibleBulletNum}å‘\n`;
            log += `æ­¤æ—¶ç©å®¶Yä½ç½®: ${(CONFIG.PLAYER_START_Y - invisibleTime * CONFIG.PLAYER_MOVE_SPEED).toFixed(1)}åƒç´ \n`;
            log += `æ­¤æ—¶å­å¼¹åˆå§‹Y: ${(CONFIG.PLAYER_START_Y - invisibleTime * CONFIG.PLAYER_MOVE_SPEED - CONFIG.BULLET_HEIGHT).toFixed(1)}åƒç´ \n\n`;
            
            log += `=== é—®é¢˜åˆ†æ ===\n`;
            log += `1. ç©å®¶å‘ä¸Šç§»åŠ¨ï¼ŒYåæ ‡ä¸æ–­å‡å°‘\n`;
            log += `2. å­å¼¹åœ¨ç©å®¶ä¸Šæ–¹50åƒç´ åˆ›å»º\n`;
            log += `3. å½“ç©å®¶Y < 50æ—¶ï¼Œå­å¼¹åˆå§‹Y < 0ï¼Œå­å¼¹åˆ›å»ºæ—¶å°±åœ¨å±å¹•å¤–\n`;
            log += `4. è¿™å°±æ˜¯ä¸ºä»€ä¹ˆç¬¬11å‘å­å¼¹å®Œå…¨çœ‹ä¸è§çš„åŸå› !\n\n`;
            
            log += `=== è§£å†³æ–¹æ¡ˆ ===\n`;
            log += `éœ€è¦ä¿®æ”¹å­å¼¹åˆ›å»ºä½ç½®ï¼Œè®©å­å¼¹å§‹ç»ˆåœ¨å±å¹•å†…åˆ›å»º\n`;
            log += `æˆ–è€…ä¿®æ”¹è¾¹ç•Œæ£€æŸ¥é€»è¾‘ï¼Œè®©å­å¼¹æœ‰æ›´åˆç†çš„å°„ç¨‹\n`;
            
            document.getElementById('simulation').innerHTML = log;
        }

        // é¡µé¢åŠ è½½æ—¶è¿è¡Œæ¼”ç®—
        window.onload = function() {
            simulateBulletTrajectory();
        };
    </script>
</body>
</html>



