<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ€ªç‰©é—®é¢˜è°ƒè¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #0f0f23;
            color: white;
        }
        .debug-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #4ecdc4;
            border-radius: 5px;
        }
        .debug-info {
            background-color: #1a1a1a;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 12px;
            max-height: 300px;
            overflow-y: auto;
        }
        button {
            background-color: #4ecdc4;
            color: #0f0f23;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background-color: #45b7b8;
        }
        .coordinate-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 15px 0;
        }
        .coord-card {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid #4ecdc4;
            border-radius: 8px;
            padding: 15px;
        }
        .coord-card h3 {
            color: #4ecdc4;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <h1>ğŸ” æ€ªç‰©é—®é¢˜è°ƒè¯•å·¥å…·</h1>
    
    <div class="debug-section">
        <h2>ğŸ“‹ è°ƒè¯•æ­¥éª¤</h2>
        <ol>
            <li>æ‰“å¼€æ¸¸æˆé¡µé¢ (index.html)</li>
            <li>æŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·</li>
            <li>åˆ‡æ¢åˆ°Consoleæ ‡ç­¾</li>
            <li>å¼€å§‹æ¸¸æˆ</li>
            <li>è§‚å¯Ÿæ§åˆ¶å°è¾“å‡º</li>
        </ol>
    </div>

    <div class="debug-section">
        <h2>ğŸ” å…³é”®è°ƒè¯•ä¿¡æ¯</h2>
        <div class="coordinate-info">
            <div class="coord-card">
                <h3>ğŸ® æ¸¸æˆé…ç½®</h3>
                <div>å±å¹•å®½åº¦: 1440px</div>
                <div>å±å¹•é«˜åº¦: 2560px</div>
                <div>ç©å®¶åˆå§‹Y: 1280px</div>
                <div>ç©å®¶ç§»åŠ¨é€Ÿåº¦: 780px/s</div>
            </div>
            <div class="coord-card">
                <h3>ğŸ‘¹ æ€ªç‰©ç”Ÿæˆ</h3>
                <div>å®‰å…¨è·ç¦»: 1950px</div>
                <div>ç”Ÿæˆé—´è·: 300px</div>
                <div>æ¿€æ´»è·ç¦»: 3840px</div>
                <div>é¢„æœŸæ€ªç‰©æ•°: 26ä¸ª</div>
            </div>
            <div class="coord-card">
                <h3>ğŸ“· æ‘„åƒæœº</h3>
                <div>æ°´å¹³ä½ç½®: å›ºå®š720px</div>
                <div>å‚ç›´ä½ç½®: è·Ÿéšç©å®¶</div>
                <div>è§†é‡æ£€æŸ¥: å¯ç”¨</div>
                <div>è°ƒè¯•æ¨¡å¼: å¯ç”¨</div>
            </div>
        </div>
    </div>

    <div class="debug-section">
        <h2>ğŸ” æŸ¥æ‰¾çš„è°ƒè¯•ä¿¡æ¯</h2>
        <div class="debug-info" id="debugInfo">
            ç­‰å¾…è°ƒè¯•ä¿¡æ¯...
        </div>
        <button onclick="checkDebugInfo()">æ£€æŸ¥è°ƒè¯•ä¿¡æ¯</button>
        <button onclick="clearDebugInfo()">æ¸…ç©ºä¿¡æ¯</button>
    </div>

    <div class="debug-section">
        <h2>ğŸ“Š å¯èƒ½çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ</h2>
        <div class="debug-info">
            <strong>é—®é¢˜1: æ€ªç‰©æ²¡æœ‰ç”Ÿæˆ</strong>
            <br>æŸ¥æ‰¾: "æ€ªç‰©ç”Ÿæˆå®Œæˆ" æ—¥å¿—
            <br>è§£å†³: æ£€æŸ¥preSpawnEnemies()æ–¹æ³•
            <br><br>
            
            <strong>é—®é¢˜2: æ€ªç‰©æ²¡æœ‰æ¿€æ´»</strong>
            <br>æŸ¥æ‰¾: "æ¿€æ´»æ€ªç‰©" æ—¥å¿—
            <br>è§£å†³: æ£€æŸ¥spawnEnemies()æ–¹æ³•
            <br><br>
            
            <strong>é—®é¢˜3: æ€ªç‰©ä¸åœ¨è§†é‡å†…</strong>
            <br>æŸ¥æ‰¾: "æ€ªç‰©ä¸åœ¨è§†é‡å†…" æ—¥å¿—
            <br>è§£å†³: æ£€æŸ¥camera.isInView()æ–¹æ³•
            <br><br>
            
            <strong>é—®é¢˜4: æ€ªç‰©è¢«çº¢è‰²è¾¹æ¡†åŒ…å›´</strong>
            <br>è¯´æ˜: æ€ªç‰©å·²æ¿€æ´»ä½†æ­£å¸¸æ¸²æŸ“å¤±è´¥
            <br>è§£å†³: æ£€æŸ¥enemy.draw()æ–¹æ³•
        </div>
    </div>

    <div class="debug-section">
        <h2>ğŸ¯ å¿«é€Ÿæµ‹è¯•</h2>
        <button onclick="testCoordinateConversion()">æµ‹è¯•åæ ‡è½¬æ¢</button>
        <button onclick="testCameraView()">æµ‹è¯•æ‘„åƒæœºè§†é‡</button>
        <button onclick="testMonsterPositions()">æµ‹è¯•æ€ªç‰©ä½ç½®</button>
    </div>

    <script>
        function checkDebugInfo() {
            const debugInfo = document.getElementById('debugInfo');
            debugInfo.innerHTML = `
                <strong>è°ƒè¯•ä¿¡æ¯æ£€æŸ¥æ¸…å•:</strong><br><br>
                
                <strong>1. æ€ªç‰©ç”Ÿæˆé˜¶æ®µ:</strong><br>
                - æŸ¥æ‰¾ "æ€ªç‰©ç”Ÿæˆå®Œæˆ" æ¶ˆæ¯<br>
                - åº”è¯¥æ˜¾ç¤º: "æ€»ç”Ÿæˆæ€ªç‰©æ•°é‡: XX"<br><br>
                
                <strong>2. æ€ªç‰©æ¿€æ´»é˜¶æ®µ:</strong><br>
                - æŸ¥æ‰¾ "æ¿€æ´»æ€ªç‰©" æ¶ˆæ¯<br>
                - åº”è¯¥æ˜¾ç¤ºæ€ªç‰©ç±»å‹ã€ä½ç½®ã€è·ç¦»<br><br>
                
                <strong>3. æ€ªç‰©æ¸²æŸ“é˜¶æ®µ:</strong><br>
                - æŸ¥æ‰¾ "æ€ªç‰©ä¸åœ¨è§†é‡å†…" æ¶ˆæ¯<br>
                - åº”è¯¥æ˜¾ç¤ºä¸–ç•Œåæ ‡å’Œå±å¹•åæ ‡<br><br>
                
                <strong>4. æ‘„åƒæœºä¿¡æ¯:</strong><br>
                - æŸ¥æ‰¾ "Camera:" æ¶ˆæ¯<br>
                - åº”è¯¥æ˜¾ç¤ºæ‘„åƒæœºä½ç½®<br><br>
                
                <strong>5. ç©å®¶ä¿¡æ¯:</strong><br>
                - æŸ¥æ‰¾ "Player:" æ¶ˆæ¯<br>
                - åº”è¯¥æ˜¾ç¤ºç©å®¶ä½ç½®<br><br>
                
                <strong>å¦‚æœæ²¡æœ‰çœ‹åˆ°è¿™äº›ä¿¡æ¯ï¼Œè¯·:</strong><br>
                1. ç¡®ä¿æ¸¸æˆå·²ç»å¼€å§‹<br>
                2. ç­‰å¾…å‡ ç§’é’Ÿè®©ç©å®¶ç§»åŠ¨<br>
                3. æ£€æŸ¥æ˜¯å¦æœ‰JavaScripté”™è¯¯
            `;
        }

        function clearDebugInfo() {
            document.getElementById('debugInfo').innerHTML = 'ç­‰å¾…è°ƒè¯•ä¿¡æ¯...';
        }

        function testCoordinateConversion() {
            const debugInfo = document.getElementById('debugInfo');
            debugInfo.innerHTML = `
                <strong>åæ ‡è½¬æ¢æµ‹è¯•:</strong><br><br>
                
                å‡è®¾æ‘„åƒæœºä½ç½®: (720, 1000)<br>
                å‡è®¾æ€ªç‰©ä½ç½®: (720, 500)<br><br>
                
                ä¸–ç•Œåæ ‡è½¬å±å¹•åæ ‡:<br>
                screenX = 720 - 720 + 720 = 720<br>
                screenY = 500 - 1000 + 1280 = 780<br><br>
                
                è§†é‡æ£€æŸ¥:<br>
                x + width >= 0: 720 + 300 >= 0 âœ“<br>
                x <= 1440: 720 <= 1440 âœ“<br>
                y + height >= 0: 780 + 450 >= 0 âœ“<br>
                y <= 2560: 780 <= 2560 âœ“<br><br>
                
                ç»“æœ: æ€ªç‰©åº”è¯¥åœ¨è§†é‡å†…
            `;
        }

        function testCameraView() {
            const debugInfo = document.getElementById('debugInfo');
            debugInfo.innerHTML = `
                <strong>æ‘„åƒæœºè§†é‡æµ‹è¯•:</strong><br><br>
                
                æ‘„åƒæœºä½ç½®: (720, playerY)<br>
                å±å¹•ä¸­å¿ƒ: (720, 1280)<br><br>
                
                è§†é‡èŒƒå›´:<br>
                æ°´å¹³: 0 åˆ° 1440<br>
                å‚ç›´: playerY-1280 åˆ° playerY+1280<br><br>
                
                æ€ªç‰©ä½ç½®: (720, playerY-1000)<br>
                å±å¹•åæ ‡: (720, 280)<br><br>
                
                æ£€æŸ¥: 280 åœ¨ 0 åˆ° 2560 èŒƒå›´å†… âœ“<br>
                ç»“æœ: æ€ªç‰©åº”è¯¥åœ¨è§†é‡å†…
            `;
        }

        function testMonsterPositions() {
            const debugInfo = document.getElementById('debugInfo');
            debugInfo.innerHTML = `
                <strong>æ€ªç‰©ä½ç½®æµ‹è¯•:</strong><br><br>
                
                ç©å®¶åˆå§‹ä½ç½®: (720, 1280)<br>
                å®‰å…¨è·ç¦»: 1950px<br>
                ç”Ÿæˆé—´è·: 300px<br><br>
                
                æ€ªç‰©ç”Ÿæˆä½ç½®:<br>
                æ€ªç‰©1: (720, 1280-1950-300) = (720, -970)<br>
                æ€ªç‰©2: (720, 1280-1950-600) = (720, -1270)<br>
                æ€ªç‰©3: (720, 1280-1950-900) = (720, -1570)<br><br>
                
                æ¿€æ´»æ¡ä»¶:<br>
                ç©å®¶Y - æ€ªç‰©Y < 3840<br>
                1280 - (-970) = 2250 < 3840 âœ“<br>
                1280 - (-1270) = 2550 < 3840 âœ“<br>
                1280 - (-1570) = 2850 < 3840 âœ“<br><br>
                
                ç»“æœ: æ€ªç‰©åº”è¯¥è¢«æ¿€æ´»
            `;
        }

        // é¡µé¢åŠ è½½æ—¶çš„æç¤º
        window.onload = function() {
            checkDebugInfo();
        };
    </script>
</body>
</html>



